<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDOS Detection Neural Network Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 80px 0;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1 {
            font-size: 4rem;
            background: linear-gradient(135deg, #00f5ff 0%, #ff6b9d 50%, #ffd700 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 800;
            animation: rainbow-glow 3s ease-in-out infinite alternate;
        }

        @keyframes rainbow-glow {
            0% { filter: drop-shadow(0 0 30px rgba(0, 245, 255, 0.4)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 107, 157, 0.5)); }
            100% { filter: drop-shadow(0 0 35px rgba(255, 215, 0, 0.4)); }
        }

        h2 {
            font-size: 3rem;
            background: linear-gradient(90deg, #00f5ff, #ff6b9d);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 50px;
            font-weight: 700;
        }

        h3 {
            font-size: 1.8rem;
            color: #00f5ff;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .intro-text {
            font-size: 1.4rem;
            text-align: center;
            max-width: 900px;
            line-height: 1.8;
            margin-bottom: 50px;
            color: #e0e6ed;
        }

        /* Layer-specific visualization styles */
        .layer-visualization {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            width: 100%;
            max-width: 1200px;
            margin: 40px 0;
        }

        .layer-info-panel {
            background: rgba(22, 33, 62, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 20px;
            padding: 40px;
            transition: all 0.3s ease;
        }

        .layer-visual-panel {
            background: rgba(16, 18, 27, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 107, 157, 0.3);
            border-radius: 20px;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Individual layer neuron styles */
        .single-layer-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            padding: 30px;
        }

        .layer-neuron {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 3px solid transparent;
            position: relative;
        }

        .input-neuron {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4);
        }

        .hidden-neuron {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 8px 32px rgba(240, 147, 251, 0.4);
        }

        .output-neuron {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            box-shadow: 0 8px 32px rgba(79, 172, 254, 0.4);
        }

        .layer-neuron:hover {
            transform: scale(1.15);
            border-color: #ffd700;
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.6);
        }

        .layer-neuron.active {
            animation: single-neuron-fire 2s ease-in-out infinite;
            border-color: #00ff88;
        }

        @keyframes single-neuron-fire {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 8px 32px rgba(0, 255, 136, 0.5);
            }
            50% { 
                transform: scale(1.1);
                box-shadow: 0 12px 40px rgba(0, 255, 136, 0.9);
            }
        }

        /* Feature visualization */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 245, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: rgba(0, 245, 255, 0.5);
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #00f5ff;
            margin-bottom: 8px;
        }

        .feature-description {
            font-size: 0.9rem;
            color: #e0e6ed;
        }

        /* Weight matrix visualization */
        .weight-matrix {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 3px;
            padding: 20px;
            background: rgba(16, 18, 27, 0.9);
            border-radius: 10px;
            margin: 20px 0;
        }

        .weight-cell {
            width: 25px;
            height: 25px;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: white;
            transition: all 0.3s ease;
        }

        .weight-positive {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
        }

        .weight-negative {
            background: linear-gradient(135deg, #ff4757, #ff3742);
        }

        .weight-neutral {
            background: linear-gradient(135deg, #808080, #a9a9a9);
        }

        /* Activation visualization */
        .activation-demo {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }

        .input-value {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }

        .arrow {
            font-size: 2rem;
            color: #00f5ff;
        }

        .activation-function {
            background: rgba(0, 245, 255, 0.1);
            border: 2px solid #00f5ff;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            min-width: 120px;
        }

        .output-value {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }

        /* Neural Network Architecture Styles */
        .network-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            margin: 60px 0;
            position: relative;
        }

        .layer {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 50px;
            position: relative;
        }

        .layer-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 30px;
            padding: 10px 20px;
            border-radius: 25px;
            text-align: center;
            min-width: 140px;
        }

        .input-layer .layer-title {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .hidden-layer .layer-title {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .output-layer .layer-title {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
        }

        .neuron {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin: 8px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 3px solid transparent;
        }

        .input-layer .neuron {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        .hidden-layer .neuron {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            box-shadow: 0 8px 32px rgba(240, 147, 251, 0.3);
        }

        .output-layer .neuron {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            box-shadow: 0 8px 32px rgba(79, 172, 254, 0.3);
        }

        .neuron:hover {
            transform: scale(1.2);
            border-color: #ffd700;
            box-shadow: 0 12px 40px rgba(255, 215, 0, 0.5);
        }

        .neuron.active {
            animation: neuron-fire 2s ease-in-out infinite;
            border-color: #00ff88;
        }

        @keyframes neuron-fire {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 8px 32px rgba(0, 255, 136, 0.4);
            }
            50% { 
                transform: scale(1.1);
                box-shadow: 0 12px 40px rgba(0, 255, 136, 0.8);
            }
        }

        /* Enhanced connection line styles */
        .connection-line {
            position: fixed;
            height: 3px;
            background: linear-gradient(90deg, #00ff88, #00f5ff);
            transform-origin: left center;
            opacity: 0;
            z-index: 10;
            transition: opacity 0.3s ease;
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(0, 245, 255, 0.6);
        }

        .connection-line.active {
            opacity: 1;
            animation: signal-flow 2s ease-in-out infinite;
        }

        @keyframes signal-flow {
            0% { 
                background: linear-gradient(90deg, #00ff88, transparent, transparent);
            }
            33% { 
                background: linear-gradient(90deg, transparent, #00ff88, transparent);
            }
            66% { 
                background: linear-gradient(90deg, transparent, transparent, #00f5ff);
            }
            100% { 
                background: linear-gradient(90deg, #00f5ff, #00ff88, transparent);
            }
        }

        /* Layer Details Panel */
        .layer-details {
            position: fixed;
            top: 50%;
            right: -400px;
            transform: translateY(-50%);
            width: 380px;
            background: rgba(16, 18, 27, 0.95);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            transition: right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 1000;
        }

        .layer-details.show {
            right: 30px;
        }

        .layer-details h4 {
            color: #00f5ff;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .layer-details p {
            color: #e0e6ed;
            margin-bottom: 10px;
        }

        .layer-details .spec {
            background: rgba(0, 245, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #00f5ff;
        }

        /* Traffic Simulation Enhanced */
        .traffic-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            width: 100%;
            max-width: 1200px;
            margin: 60px 0;
        }

        .demo-panel {
            background: rgba(22, 33, 62, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 245, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            transition: all 0.3s ease;
        }

        .demo-panel:hover {
            border-color: rgba(0, 245, 255, 0.5);
            transform: translateY(-5px);
        }

        .packet-stream {
            height: 300px;
            background: linear-gradient(135deg, rgba(16, 18, 27, 0.9), rgba(22, 33, 62, 0.9));
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin: 30px 0;
        }

        .packet {
            position: absolute;
            width: 80px;
            height: 30px;
            border-radius: 8px;
            right: -90px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
            animation: enhanced-packet-flow 4s linear infinite;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            color: white;
        }

        .packet.benign {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
        }

        .packet.ddos {
            background: linear-gradient(135deg, #ff4757, #ff3742);
            animation-duration: 1s;
        }

        .packet.portscan {
            background: linear-gradient(135deg, #ffa726, #ff9800);
            animation-duration: 2s;
        }

        .packet.bot {
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            animation-duration: 3s;
        }

        .packet.infiltration {
            background: linear-gradient(135deg, #f44336, #c62828);
            animation-duration: 2.5s;
        }

        .packet.web-attack {
            background: linear-gradient(135deg, #ff5722, #d84315);
            animation-duration: 2.2s;
        }

        .packet.ftp-patator {
            background: linear-gradient(135deg, #795548, #5d4037);
            animation-duration: 2.8s;
        }

        .packet.ssh-patator {
            background: linear-gradient(135deg, #607d8b, #455a64);
            animation-duration: 2.6s;
        }

        @keyframes enhanced-packet-flow {
            0% { 
                right: -90px; 
                opacity: 0;
                transform: scale(0.8);
            }
            10% { 
                opacity: 1;
                transform: scale(1);
            }
            90% { 
                opacity: 1;
                transform: scale(1);
            }
            100% { 
                right: 100%; 
                opacity: 0;
                transform: scale(0.8);
            }
        }

        .detection-display {
            background: rgba(16, 18, 27, 0.9);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid transparent;
            transition: all 0.5s ease;
        }

        .detection-display.safe {
            border-color: #00ff88;
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 204, 106, 0.1));
            animation: safe-pulse 2s ease-in-out infinite;
        }

        .detection-display.threat {
            border-color: #ff4757;
            background: linear-gradient(135deg, rgba(255, 71, 87, 0.1), rgba(255, 55, 66, 0.1));
            animation: threat-pulse 1s ease-in-out infinite;
        }

        .detection-display.warning {
            border-color: #ffa726;
            background: linear-gradient(135deg, rgba(255, 167, 38, 0.1), rgba(255, 152, 0, 0.1));
            animation: warning-pulse 1.5s ease-in-out infinite;
        }

        @keyframes safe-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }

        @keyframes threat-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 71, 87, 0.3); }
            50% { box-shadow: 0 0 40px rgba(255, 71, 87, 0.8); }
        }

        @keyframes warning-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 167, 38, 0.3); }
            50% { box-shadow: 0 0 40px rgba(255, 167, 38, 0.6); }
        }

        .status-text {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .attack-info {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid #00f5ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            font-style: italic;
            color: #e0e6ed;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 245, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            border-color: rgba(0, 245, 255, 0.5);
            transform: translateY(-3px);
        }

        .metric-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #00f5ff;
            margin-bottom: 5px;
        }

        .metric-label {
            color: #e0e6ed;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Traffic type selector */
        .traffic-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .traffic-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 0.9rem;
            font-weight: 600;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .traffic-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .traffic-btn.ddos { background: linear-gradient(135deg, #ff4757, #ff3742); }
        .traffic-btn.portscan { background: linear-gradient(135deg, #ffa726, #ff9800); }
        .traffic-btn.bot { background: linear-gradient(135deg, #9c27b0, #7b1fa2); }
        .traffic-btn.infiltration { background: linear-gradient(135deg, #f44336, #c62828); }
        .traffic-btn.web-attack { background: linear-gradient(135deg, #ff5722, #d84315); }
        .traffic-btn.ftp-patator { background: linear-gradient(135deg, #795548, #5d4037); }
        .traffic-btn.ssh-patator { background: linear-gradient(135deg, #607d8b, #455a64); }

        .btn {
            background: linear-gradient(135deg, #00f5ff, #ff6b9d);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            margin: 15px 10px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 245, 255, 0.4);
        }

        .btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .navigation {
            position: fixed;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 900;
        }

        .nav-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 2px solid transparent;
        }

        .nav-dot.active {
            background: #00f5ff;
            border-color: #ffd700;
            transform: scale(1.4);
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.6);
        }

        /* Code display improvements */
        .code-showcase {
            background: rgba(16, 18, 27, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 245, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
            font-family: 'Fira Code', 'Courier New', monospace;
            max-width: 1000px;
        }

        .code-header {
            color: #00f5ff;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .code-content {
            color: #e0e6ed;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .highlight {
            color: #ff6b9d;
            font-weight: 600;
        }

        .comment {
            color: #4a90e2;
            font-style: italic;
        }

        .made-by {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 245, 255, 0.1);
            border: 1px solid rgba(0, 245, 255, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.9rem;
            color: #00f5ff;
            backdrop-filter: blur(10px);
            z-index: 1000;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .layer-visualization {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .navigation {
                right: 20px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            h2 {
                font-size: 2rem;
            }

            .traffic-demo {
                grid-template-columns: 1fr;
            }

            .network-container {
                flex-direction: column;
                gap: 30px;
            }

            .layer {
                margin: 0;
            }

            .traffic-selector {
                grid-template-columns: repeat(2, 1fr);
            }

            .made-by {
                bottom: 10px;
                right: 10px;
                font-size: 0.8rem;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <div class="navigation">
        <div class="nav-dot active" onclick="scrollToSection(0)"></div>
        <div class="nav-dot" onclick="scrollToSection(1)"></div>
        <div class="nav-dot" onclick="scrollToSection(2)"></div>
        <div class="nav-dot" onclick="scrollToSection(3)"></div>
        <div class="nav-dot" onclick="scrollToSection(4)"></div>
        <div class="nav-dot" onclick="scrollToSection(5)"></div>
        <div class="nav-dot" onclick="scrollToSection(6)"></div>
        <div class="nav-dot" onclick="scrollToSection(7)"></div>
    </div>

    <div class="layer-details" id="layerDetails">
        <h4 id="layerTitle">Layer Details</h4>
        <p id="layerDescription">Click on any neuron to see detailed information</p>
        <div class="spec" id="layerSpecs"></div>
        <button class="btn" onclick="hideLayerDetails()">Close</button>
    </div>

    <div class="made-by">
        made with 💙 by Haider
    </div>

    <div class="container">
        <!-- Section 1: Title & Overview -->
        <section class="section visible">
            <h1>🧠 Neural Network Architecture</h1>
            <p class="intro-text">
                Deep dive into the LSTM neural network architecture designed for real-time 
                network intrusion detection. Analyzing 78 network features to classify 2 different traffic types 
                from a dataset of 2.5M+ traffic records.
            </p>
            <div class="code-showcase">
                <div class="code-header">🏗️ Model Configuration</div>
                <div class="code-content">
                    <span class="highlight">Dataset:</span> 2,576,771 network traffic records<br>
                    <span class="highlight">Features:</span> 78 network characteristics analyzed<br>
                    <span class="highlight">Classes:</span> 2 traffic types (BENIGN + DDoS)<br>
                    <span class="highlight">Architecture:</span> LSTM-based neural network<br>
                    <span class="highlight">Activation:</span> ReLU (hidden layers), Sigmoid (output)<br>
                    <span class="highlight">Optimizer:</span> Adam (lr=0.001)<br>
                    <span class="comment"># Real-world cybersecurity dataset analysis</span>
                </div>
            </div>
            <button class="btn" onclick="scrollToSection(1)">Explore Architecture →</button>
        </section>

<!-- Section 2: Interactive Neural Network -->
<section class="section">
    <h2>Interactive Neural Network</h2>
    <div class="network-container">
        <!-- Input Layer -->
        <div class="layer input-layer">
            <div class="layer-title">Input Layer<br>(78 Features)</div>
            <div class="neuron" onclick="showLayerDetails('input', 0)">F₁</div>
            <div class="neuron" onclick="showLayerDetails('input', 1)">F₂</div>
            <div class="neuron" onclick="showLayerDetails('input', 2)">F₃</div>
            <div class="neuron" onclick="showLayerDetails('input', 3)">F₄</div>
            <div class="neuron" onclick="showLayerDetails('input', 4)">⋮</div>
        </div>

        <!-- Hidden Layer 1 -->
        <div class="layer hidden-layer">
            <div class="layer-title">Hidden Layer 1<br>(128 neurons)</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 0)">H₁</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 1)">H₂</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 2)">H₃</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 3)">H₄</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 4)">H₅</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 3)">H₆</div>
            <div class="neuron" onclick="showLayerDetails('hidden1', 5)">⋮</div>
        </div>

        <!-- Hidden Layer 2 -->
        <div class="layer hidden-layer">
            <div class="layer-title">Hidden Layer 2<br>(64 neurons)</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 0)">H₆</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 1)">H₇</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 2)">H₈</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 3)">H₉</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 3)">H₁₀</div>
            <div class="neuron" onclick="showLayerDetails('hidden2', 4)">⋮</div>
        </div>

        <!-- Hidden Layer 3 (NEW) -->
        <div class="layer hidden-layer">
            <div class="layer-title">Hidden Layer 3<br>(32 neurons)</div>
            <div class="neuron" onclick="showLayerDetails('hidden3', 0)">H₁₀</div>
            <div class="neuron" onclick="showLayerDetails('hidden3', 1)">H₁₁</div>
            <div class="neuron" onclick="showLayerDetails('hidden3', 2)">H₁₂</div>
            <div class="neuron" onclick="showLayerDetails('hidden3', 3)">H₁₃</div>
            <div class="neuron" onclick="showLayerDetails('hidden3', 4)">⋮</div>
        </div>

        <!-- Output Layer -->
        <div class="layer output-layer">
            <div class="layer-title">Output Layer<br>(1 Class)</div>
            <div class="neuron" onclick="showLayerDetails('output', 0)" style="font-size: 0.9rem;">OUT</div>
        </div>
    </div>

    <button class="btn" onclick="activateNetwork()">🚀 Activate Network</button>
    <button class="btn" onclick="resetNetwork()">🔄 Reset</button>
</section>


        <!-- Section 3: Input Layer Deep Dive -->
        <section class="section">
            <h2>📥 Input Layer - Critical Network Features</h2>
            <div class="layer-visualization">
                <div class="layer-info-panel">
                    <h3>📊 Top 10 Critical Features (from 78 total)</h3>
                    <p>Our LSTM analyzes 78 network characteristics, with these 10 being the most critical attack indicators:</p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">⏱️</div>
                            <div class="feature-name">Flow Duration</div>
                            <div class="feature-description">Connection timing signatures</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📊</div>
                            <div class="feature-name">Flow Bytes/s</div>
                            <div class="feature-description">Bandwidth anomaly detection</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">⚡</div>
                            <div class="feature-name">Flow Packets/s</div>
                            <div class="feature-description">Packet rate flood detection</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📤</div>
                            <div class="feature-name">Total Fwd Packets</div>
                            <div class="feature-description">Volume-based attack patterns</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📥</div>
                            <div class="feature-name">Total Bwd Packets</div>
                            <div class="feature-description">Response pattern analysis</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🔗</div>
                            <div class="feature-name">SYN Flag Count</div>
                            <div class="feature-description">TCP SYN flood detection</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📦</div>
                            <div class="feature-name">Packet Length Mean</div>
                            <div class="feature-description">Payload size anomalies</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🎯</div>
                            <div class="feature-name">Destination Port</div>
                            <div class="feature-description">Service targeting analysis</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🕐</div>
                            <div class="feature-name">Fwd IAT Mean</div>
                            <div class="feature-description">Inter-arrival timing patterns</div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">❌</div>
                            <div class="feature-name">RST Flag Count</div>
                            <div class="feature-description">Connection reset patterns</div>
                        </div>
                    </div>
                </div>
                
                <div class="layer-visual-panel">
                    <h3>🎯 Feature Processing</h3>
                    <p style="color: #e0e6ed; margin-bottom: 20px;">78 features → Feature Engineering → Neural Network</p>
                    <div class="single-layer-display">
                        <div class="layer-neuron input-neuron" onclick="activateFeature(0)">F₁</div>
                        <div class="layer-neuron input-neuron" onclick="activateFeature(1)">F₂</div>
                        <div class="layer-neuron input-neuron" onclick="activateFeature(2)">F₃</div>
                        <div class="layer-neuron input-neuron" onclick="activateFeature(3)">F₄</div>
                        <div class="layer-neuron input-neuron" onclick="activateFeature(4)">⋮</div>
                    </div>
                    <button class="btn" onclick="demonstrateInputProcessing()">🔄 Process Features</button>
                </div>
            </div>
        </section>

        <!-- Section 4: Hidden Layer 1 Deep Dive -->
        <section class="section">
            <h2>🧬 Hidden Layer 1 - Pattern Recognition</h2>
            <div class="layer-visualization">
                <div class="layer-info-panel">
                    <h3>🔍 Low-Level Pattern Detection</h3>
                    <p>The first hidden layer contains 128 neurons that identify basic traffic patterns and feature combinations critical for attack detection.</p>
                    
                    <div class="code-showcase">
                        <div class="code-header">⚙️ Layer Specifications</div>
                        <div class="code-content">
                            <span class="highlight">Neurons:</span> 128<br>
                            <span class="highlight">Activation:</span> ReLU (f(x) = max(0, x))<br>
                            <span class="highlight">Dropout:</span> 20% during training<br>
                            <span class="highlight">Purpose:</span> Feature combination & basic pattern recognition<br>
                            <span class="comment"># Learns: Traffic signatures, volume patterns, timing correlations</span>
                        </div>
                    </div>

                    <div class="activation-demo">
                        <div class="input-value" id="h1Input">2.5</div>
                        <div class="arrow">→</div>
                        <div class="activation-function">
                            <strong>ReLU</strong><br>
                            max(0, x)
                        </div>
                        <div class="arrow">→</div>
                        <div class="output-value" id="h1Output">2.5</div>
                    </div>
                </div>
                
                <div class="layer-visual-panel">
                    <h3>🎨 Weight Matrix Visualization</h3>
                    <p>Simplified representation of connection weights (5x8 subset):</p>
                    <div class="weight-matrix" id="weightMatrix1">
                        <!-- Weight cells will be generated by JavaScript -->
                    </div>
                    <div class="single-layer-display">
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(1, 0)">H₁</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(1, 1)">H₂</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(1, 2)">H₃</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(1, 3)">⋮</div>
                    </div>
                    <button class="btn" onclick="demonstrateHidden1Processing()">⚡ Activate Layer 1</button>
                </div>
            </div>
        </section>

        <!-- Section 5: Hidden Layer 2 Deep Dive -->
        <section class="section">
            <h2>🎯 Hidden Layer 2 - Advanced Feature Abstraction</h2>
            <div class="layer-visualization">
                <div class="layer-info-panel">
                    <h3>🚀 High-Level Pattern Synthesis</h3>
                    <p>The second hidden layer combines lower-level patterns into sophisticated attack signatures using 64 neurons.</p>
                    
                    <div class="code-showcase">
                        <div class="code-header">⚙️ Layer Specifications</div>
                        <div class="code-content">
                            <span class="highlight">Neurons:</span> 64<br>
                            <span class="highlight">Activation:</span> ReLU (f(x) = max(0, x))<br>
                            <span class="highlight">Input Size:</span> 128 (from previous layer)<br>
                            <span class="highlight">Purpose:</span> Complex pattern abstraction<br>
                            <span class="comment"># Learns: Attack signatures, coordinated patterns, anomaly detection</span>
                        </div>
                    </div>

                    <h4 style="color: #ff6b9d; margin: 20px 0;">Key Pattern Types Detected:</h4>
                    <ul style="color: #e0e6ed; line-height: 2;">
                        <li>🔥 Volume-based attack patterns (DDoS)</li>
                        <li>🍀 Benign</li>
                    </ul>
                </div>
                
                <div class="layer-visual-panel">
                    <h3>🧠 Feature Abstraction Process</h3>
                    <div class="weight-matrix" id="weightMatrix2">
                        <!-- Weight cells will be generated by JavaScript -->
                    </div>
                    <div class="single-layer-display">
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(2, 0)">H₆</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(2, 1)">H₇</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(2, 2)">H₈</div>
                        <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(2, 3)">⋮</div>
                    </div>
                    <button class="btn" onclick="demonstrateHidden2Processing()">🔥 Activate Layer 2</button>
                </div>
            </div>
        </section>
                 <!-- Section: Hidden Layer 3 Deep Dive -->
    <section class="section">
        <h2>🎯 Hidden Layer 3 - Refined Feature Compression</h2>
        <div class="layer-visualization">
            <div class="layer-info-panel">
                <h3>🚀 Compact Pattern Refinement</h3>
                <p>The third hidden layer compresses sophisticated patterns into the most essential features using 32 neurons, creating optimal representations for final classification.</p>
               
                <div class="code-showcase">
                    <div class="code-header">⚙️ Layer Specifications</div>
                    <div class="code-content">
                        <span class="highlight">Neurons:</span> 32<br>
                        <span class="highlight">Activation:</span> ReLU (f(x) = max(0, x))<br>
                        <span class="highlight">Input Size:</span> 64 (from previous layer)<br>
                        <span class="highlight">Purpose:</span> Optimal feature compression<br>
                        <span class="comment"># Learns: Essential attack signatures, critical decision boundaries</span>
                    </div>
                </div>
                <h4 style="color: #ff6b9d; margin: 20px 0;">Key Compression Features:</h4>
                <ul style="color: #e0e6ed; line-height: 2;">
                    <li>🔥 Critical attack indicators (refined DDoS patterns)</li>
                    <li>🛡️ Essential security markers</li>
                    <li>⚡ Optimized decision features</li>
                    <li>🎯 Final classification readiness</li>
                </ul>
            </div>
           
            <div class="layer-visual-panel">
                <h3>🧠 Feature Compression Process</h3>
                <div class="weight-matrix" id="weightMatrix3">
                    <!-- Weight cells will be generated by JavaScript -->
                </div>
                <div class="single-layer-display">
                    <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(3, 0)">H₉</div>
                    <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(3, 1)">H₁₀</div>
                    <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(3, 2)">H₁₁</div>
                    <div class="layer-neuron hidden-neuron" onclick="activateHiddenNeuron(3, 3)">⋮</div>
                </div>
                <button class="btn" onclick="demonstrateHidden3Processing()">🔥 Activate Layer 3</button>
            </div>
        </div>
    </section>

        <!-- Section 6: Output Layer Deep Dive -->
        <section class="section">
            <h2>🎯 Output Layer - Binary Class Classification</h2>
            <div class="layer-visualization">
                <div class="layer-info-panel">
                    <h3>⚖️ Traffic Type Classification</h3>
                    <p>The output layer classifies network traffic into 2 classes including benign traffic and attack traffic.</p>
                    
                    <div class="code-showcase">
                        <div class="code-header">⚙️ Layer Specifications</div>
                        <div class="code-content">
                            <span class="highlight">Neurons:</span> 1 (for binary classification) <br>
                            <span class="highlight">Activation:</span> Sigmoid (probability distribution)<br>
                            <span class="highlight">Input Size:</span> 32 (from hidden layer 3)<br>
                            <span class="highlight">Output Range:</span> [0, 1] for claases<br>
                            <span class="highlight">Classes:</span> BENIGN, DDoS.<br>
                            <span class="comment"># Output: Probability traffic type</span>
                        </div>
                    </div>

                    <div class="activation-demo">
                        <div class="input-value" id="outInput">0.9</div>
                        <div class="arrow">→</div>
                        <div class="activation-function">
                            <strong>Sigmoid</strong><br>
                            1 / (1 + np.exp(-x))
                        </div>
                        <div class="arrow">→</div>
                        <div class="output-value" id="outOutput">1</div>
                    </div>
                </div>
                
                <div class="layer-visual-panel">
                    <h3>🎯 Classification Decision</h3>
                    <div class="single-layer-display">
                        <div class="layer-neuron output-neuron" onclick="activateOutputNeuron()" id="outputNeuron">OUT</div>
                    </div>
                    
                    <div class="metrics-grid" style="margin-top: 30px;">
                        <div class="metric-card">
                            <div class="metric-value" id="outputProb">0.90</div>
                            <div class="metric-label">Probability</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="outputClass">BENIGN</div>
                            <div class="metric-label">Classification</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="outputConfidence">90%</div>
                            <div class="metric-label">Confidence</div>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="demonstrateOutputProcessing()">🎲 Generate Prediction</button>
                </div>
            </div>
        </section>

       <!-- Section 7: Layer Architecture Details -->
<section class="section">
    <h2>Layer-by-Layer Breakdown</h2>
    <div class="code-showcase">
        <div class="code-header">📋 Complete Architecture</div>
        <div class="code-content">
            <span class="highlight">class IntrusionDetector(nn.Module):</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">def __init__(self):</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># LSTM layer (3 layers, 78 features, 128 hidden units)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.lstm = <span class="highlight">nn.LSTM(input_size=78, hidden_size=128, num_layers=3, batch_first=True, dropout=0.2)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># First fully connected layer</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.fc2 = <span class="highlight">nn.Linear(128, 64)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Second fully connected layer</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.fc3 = <span class="highlight">nn.Linear(64, 32)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment"># Output classification layer (1 class)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.fc4 = <span class="highlight">nn.Linear(32, 1)</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dropout = <span class="highlight">nn.Dropout(0.2)</span><br>
            <br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">def forward(self, x):</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lstm_out, _ = self.lstm(x)<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = lstm_out[:, -1, :]<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = self.dropout(x)<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = F.relu(self.fc2(x))<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = F.relu(self.fc3(x))<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x = torch.sigmoid(self.fc4(x))<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight">return x</span>
        </div>
    </div>
</section>


        <!-- Section 8: Enhanced Live Detection Demo -->
        <section class="section">
            <h2>🎯 Real-Time Detection System</h2>
            <div class="traffic-demo">
                <div class="demo-panel">
                    <h3>🌐 Network Traffic Monitor</h3>
                    <p>Simulate different types of network traffic based on real dataset statistics:</p>
                    
                    <div class="traffic-selector">
                        <button class="traffic-btn" onclick="simulateTraffic('benign')">BENIGN</button>
                        <button class="traffic-btn ddos" onclick="simulateTraffic('ddos')">DDoS</button>
                        <button class="traffic-btn portscan" onclick="simulateTraffic('portscan')">PortScan</button>
                        <button class="traffic-btn bot" onclick="simulateTraffic('bot')">Bot</button>
                        <button class="traffic-btn infiltration" onclick="simulateTraffic('infiltration')">Infiltration</button>
                        <button class="traffic-btn web-attack" onclick="simulateTraffic('web-attack-brute')">Web Brute Force</button>
                        <button class="traffic-btn web-attack" onclick="simulateTraffic('web-attack-xss')">Web XSS</button>
                        <button class="traffic-btn ftp-patator" onclick="simulateTraffic('ftp-patator')">FTP-Patator</button>
                        <button class="traffic-btn ssh-patator" onclick="simulateTraffic('ssh-patator')">SSH-Patator</button>
                    </div>
                    
                    <div class="packet-stream" id="packetStream"></div>
                    
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="packetCount">0</div>
                            <div class="metric-label">Packets/sec</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="bandwidth">0</div>
                            <div class="metric-label">MB/s</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="sources">1</div>
                            <div class="metric-label">Sources</div>
                        </div>
                    </div>

                    <button class="btn" onclick="stopTraffic()">⏹️ Stop</button>
                </div>

                <div class="demo-panel">
                    <h3>🛡️ AI Detection Results</h3>
                    <div class="detection-display" id="detectionResult">
                        <div class="status-text">🟢 System Ready</div>
                        <p>Neural network initialized and monitoring traffic...</p>
                    </div>

                    <div class="attack-info" id="attackInfo" style="display: none;">
                        <!-- Attack information will be displayed here -->
                    </div>

                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="confidence">--</div>
                            <div class="metric-label">Confidence</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="responseTime">--</div>
                            <div class="metric-label">Response (ms)</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="threatLevel">LOW</div>
                            <div class="metric-label">Threat Level</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Global variables for traffic simulation
        let trafficInterval = null;
        let packetCounter = 0;
        let isTrafficActive = false;
        let currentTrafficType = 'benign';
        let networkAnimationActive = false;

        // Traffic type configurations with presentation info
        const trafficTypes = {
            'benign': { 
                name: 'BENIGN', 
                records: 2273097, 
                color: '#00ff88',
                interval: 800,
                emoji: '📦',
                threat: 'safe',
                presentationInfo: "Normal network traffic patterns with standard protocols and expected data flows."
            },
            'ddos': { 
                name: 'DDoS', 
                records: 128027, 
                color: '#ff4757',
                interval: 100,
                emoji: '⚠️',
                threat: 'high',
                presentationInfo: "Distributed Denial of Service attack - overwhelming target with traffic from multiple sources to exhaust resources."
            },
            'portscan': { 
                name: 'Attack', 
                records: 158930, 
                color: '#ffa726',
                interval: 300,
                emoji: '🔍',
                threat: 'medium',
                presentationInfo: "Network reconnaissance technique scanning multiple ports to identify vulnerable services and entry points."
            },
            'bot': { 
                name: 'Attack', 
                records: 1966, 
                color: '#9c27b0',
                interval: 600,
                emoji: '🤖',
                threat: 'high',
                presentationInfo: "Compromised device participating in botnet activities, often used for coordinated attacks or data theft."
            },
            'infiltration': { 
                name: 'Attack', 
                records: 36, 
                color: '#f44336',
                interval: 1000,
                emoji: '🚪',
                threat: 'critical',
                presentationInfo: "Advanced persistent threat attempting to gain unauthorized access and establish foothold in target network."
            },
            'web-attack-brute': { 
                name: 'Attack', 
                records: 1507, 
                color: '#ff5722',
                interval: 400,
                emoji: '🔓',
                threat: 'medium',
                presentationInfo: "Automated credential guessing attack against web applications to gain unauthorized access."
            },
            'web-attack-xss': { 
                name: 'Attack', 
                records: 652, 
                color: '#ff5722',
                interval: 500,
                emoji: '🕷️',
                threat: 'medium',
                presentationInfo: "Cross-Site Scripting attack injecting malicious scripts into web applications to steal user data."
            },
            'ftp-patator': { 
                name: 'Attack', 
                records: 7938, 
                color: '#795548',
                interval: 350,
                emoji: '📁',
                threat: 'medium',
                presentationInfo: "Brute force attack targeting FTP services using automated password cracking tools."
            },
            'ssh-patator': { 
                name: 'Attack', 
                records: 5897, 
                color: '#607d8b',
                interval: 380,
                emoji: '🔑',
                threat: 'medium',
                presentationInfo: "Brute force attack against SSH services attempting to crack login credentials for remote access."
            }
        };

        // Navigation and section management
        function scrollToSection(index) {
            const sections = document.querySelectorAll('.section');
            const navDots = document.querySelectorAll('.nav-dot');
            
            sections.forEach((section, i) => {
                if (i === index) {
                    section.scrollIntoView({ behavior: 'smooth' });
                    section.classList.add('visible');
                    navDots[i].classList.add('active');
                } else {
                    section.classList.remove('visible');
                    navDots[i].classList.remove('active');
                }
            });
        }

        // Layer details information
        const layerInfo = {
            input: {
                title: "Input Layer - 78 Network Features",
                description: "Processes 78 engineered network traffic features including flow statistics, packet characteristics, protocol flags, and timing patterns.",
                specs: "• 78 input neurons (network features)\n• Features: Flow duration, packet rates, protocol flags, timing patterns\n• Preprocessing: Min-Max normalization\n• Critical features: Flow Duration, Bytes/s, Packets/s, SYN flags"
            },
            hidden1: {
                title: "Hidden Layer 1 - Pattern Recognition",
                description: "First processing layer that identifies low-level patterns in network traffic using 128 neurons with ReLU activation.",
                specs: "• 128 neurons\n• Activation: ReLU\n• Dropout: 20% (training only)\n• Purpose: Feature combination and pattern detection\n• Learns: Basic traffic signatures and anomalies"
            },
            hidden2: {
                title: "Hidden Layer 2 - Advanced Features",
                description: "Second processing layer with 64 neurons that combines lower-level patterns into more complex attack signatures.",
                specs: "• 64 neurons\n• Activation: ReLU\n• Purpose: High-level feature abstraction\n• Learns: Attack pattern combinations\n• Connects patterns to specific attack types"
            },
            output: {
                title: "Output Layer - Multi-Class Classification",
                description: "Final decision layer that outputs probabilities for DDoS or Normal Traffic Type using Sigmoid activation.",
                specs: "• 1 output neuron \n• Activation: Sigmoid\n• Output range: 0-1 (probability distribution)\n• Classes: BENIGN + DDoS\n• Threshold (e.g., 0.5) used to decide class label"
            }
        };

        function showLayerDetails(layerType, neuronIndex) {
            const details = document.getElementById('layerDetails');
            const title = document.getElementById('layerTitle');
            const description = document.getElementById('layerDescription');
            const specs = document.getElementById('layerSpecs');
            
            const info = layerInfo[layerType] || layerInfo[layerType.replace(/\d+/, '')];
            
            title.textContent = info.title;
            description.textContent = info.description;
            specs.innerHTML = info.specs.replace(/\n/g, '<br>');
                        details.classList.add('show');
        }

        function hideLayerDetails() {
            document.getElementById('layerDetails').classList.remove('show');
        }

        // Generate weight matrices
        function generateWeightMatrix(containerId, rows = 5, cols = 8) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            for (let i = 0; i < rows * cols; i++) {
                const cell = document.createElement('div');
                cell.className = 'weight-cell';
                
                const weight = (Math.random() - 0.5) * 2; // Random weight between -1 and 1
                cell.textContent = weight.toFixed(1);
                
                if (weight > 0.3) {
                    cell.classList.add('weight-positive');
                } else if (weight < -0.3) {
                    cell.classList.add('weight-negative');
                } else {
                    cell.classList.add('weight-neutral');
                }
                
                container.appendChild(cell);
            }
        }

        // Individual layer demonstrations
        function activateFeature(featureIndex) {
            const neurons = document.querySelectorAll('.input-neuron');
            neurons.forEach(neuron => neuron.classList.remove('active'));
            neurons[featureIndex].classList.add('active');
        }

        function demonstrateInputProcessing() {
            const neurons = document.querySelectorAll('.input-neuron');
            neurons.forEach((neuron, index) => {
                setTimeout(() => {
                    neuron.classList.add('active');
                }, index * 300);
            });
            
            setTimeout(() => {
                neurons.forEach(neuron => neuron.classList.remove('active'));
            }, 3000);
        }

        function activateHiddenNeuron(layer, neuronIndex) {
            const selector = '.layer-visual-panel .hidden-neuron';
            const neurons = document.querySelectorAll(selector);
            neurons.forEach(neuron => neuron.classList.remove('active'));
            if (neurons[neuronIndex]) {
                neurons[neuronIndex].classList.add('active');
            }
        }

        function demonstrateHidden1Processing() {
            const neurons = document.querySelectorAll('.layer-visual-panel .hidden-neuron');
            neurons.forEach((neuron, index) => {
                setTimeout(() => {
                    neuron.classList.add('active');
                }, index * 200);
            });
            
            // Update activation demo values
            const input = document.getElementById('h1Input');
            const output = document.getElementById('h1Output');
            const newValue = (Math.random() * 5).toFixed(1);
            input.textContent = newValue;
            output.textContent = Math.max(0, parseFloat(newValue)).toFixed(1);
            
            setTimeout(() => {
                neurons.forEach(neuron => neuron.classList.remove('active'));
            }, 2000);
        }

        function demonstrateHidden2Processing() {
            generateWeightMatrix('weightMatrix2', 4, 8);
            const neurons = document.querySelectorAll('.layer-visual-panel .hidden-neuron');
            neurons.forEach((neuron, index) => {
                setTimeout(() => {
                    neuron.classList.add('active');
                }, index * 250);
            });
            
            setTimeout(() => {
                neurons.forEach(neuron => neuron.classList.remove('active'));
            }, 2000);
        }

        function activateOutputNeuron() {
            const neuron = document.getElementById('outputNeuron');
            neuron.classList.add('active');
            
            setTimeout(() => {
                neuron.classList.remove('active');
            }, 2000);
        }

        function demonstrateOutputProcessing() {
            // Generate random prediction for one of the 15 traffic types
            const trafficTypeNames = Object.keys(trafficTypes);
            const randomType = trafficTypeNames[Math.floor(Math.random() * trafficTypeNames.length)];
            const typeInfo = trafficTypes[randomType];
            
            const prob = Math.random();
            const confidence = (Math.abs(prob - 0.5) * 200).toFixed(0);
            
            document.getElementById('outputProb').textContent = prob.toFixed(3);
            document.getElementById('outputClass').textContent = typeInfo.name;
            document.getElementById('outputConfidence').textContent = confidence + '%';
            
            // Update activation demo
            const input = document.getElementById('outInput');
            const output = document.getElementById('outOutput');
            const inputVal = (Math.random() - 0.5) * 4;
            const Sigmoid = Math.exp(inputVal) / (Math.exp(inputVal) + Math.exp(-inputVal)); // Simplified Sigmoid
            
            input.textContent = inputVal.toFixed(1);
            output.textContent = Sigmoid.toFixed(2);
            
            activateOutputNeuron();
        }

        // Enhanced Neural network activation animation - layer by layer flow
        function activateNetwork() {
            if (networkAnimationActive) return;
            
            networkAnimationActive = true;
            const layers = document.querySelectorAll('.layer');
            
            // Reset all neurons and remove existing connections
            document.querySelectorAll('.neuron').forEach(neuron => {
                neuron.classList.remove('active');
            });
            document.querySelectorAll('.connection-line').forEach(line => {
                line.remove();
            });
            
            // Create all connections first
            createAllConnections();
            
            // Activate layer by layer with proper timing
            layers.forEach((layer, layerIndex) => {
                setTimeout(() => {
                    const layerNeurons = layer.querySelectorAll('.neuron');
                    
                    // Activate all neurons in current layer simultaneously
                    layerNeurons.forEach(neuron => {
                        neuron.classList.add('active');
                    });
                    
                    // Activate connections from this layer to next
                    if (layerIndex < layers.length - 1) {
                        setTimeout(() => {
                            activateConnectionsFromLayer(layer);
                        }, 500);
                    }
                }, layerIndex * 1500);
            });
        }

        function createAllConnections() {
            const layers = document.querySelectorAll('.layer');
            
            for (let i = 0; i < layers.length - 1; i++) {
                const currentLayer = layers[i];
                const nextLayer = layers[i + 1];
                const currentNeurons = currentLayer.querySelectorAll('.neuron');
                const nextNeurons = nextLayer.querySelectorAll('.neuron');
                
                currentNeurons.forEach(currentNeuron => {
                    nextNeurons.forEach(nextNeuron => {
                        createConnectionLine(currentNeuron, nextNeuron);
                    });
                });
            }
        }

        function createConnectionLine(fromNeuron, toNeuron) {
            const line = document.createElement('div');
            line.className = 'connection-line';
            
            const fromRect = fromNeuron.getBoundingClientRect();
            const toRect = toNeuron.getBoundingClientRect();
            const container = document.querySelector('.network-container').getBoundingClientRect();
            
            const startX = fromRect.right - container.left;
            const startY = fromRect.top + fromRect.height / 2 - container.top;
            const endX = toRect.left - container.left;
            const endY = toRect.top + toRect.height / 2 - container.top;
            
            const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
            const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
            
            line.style.width = length + 'px';
            line.style.left = (container.left + startX) + 'px';
            line.style.top = (container.top + startY) + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            line.style.transformOrigin = 'left center';
            
            // Store reference for activation
            fromNeuron.connectionLines = fromNeuron.connectionLines || [];
            fromNeuron.connectionLines.push(line);
            
            document.body.appendChild(line);
        }

        function activateConnectionsFromLayer(layer) {
            const neurons = layer.querySelectorAll('.neuron');
            neurons.forEach(neuron => {
                if (neuron.connectionLines) {
                    neuron.connectionLines.forEach((line, index) => {
                        setTimeout(() => {
                            line.classList.add('active');
                        }, index * 50);
                    });
                }
            });
        }

        function resetNetwork() {
            networkAnimationActive = false;
            const neurons = document.querySelectorAll('.neuron');
            neurons.forEach(neuron => {
                neuron.classList.remove('active');
                neuron.connectionLines = [];
            });
            
            // Remove all connection lines
            document.querySelectorAll('.connection-line').forEach(line => {
                line.remove();
            });
        }

        // Enhanced traffic simulation functions
        function simulateTraffic(type) {
            if (isTrafficActive) {
                stopTraffic();
            }
            
            currentTrafficType = type;
            isTrafficActive = true;
            packetCounter = 0;
            
            const typeConfig = trafficTypes[type];
            const interval = typeConfig.interval;
            
            trafficInterval = setInterval(() => {
                createPacket(type);
                updateMetrics(type);
                updateDetection(type);
                packetCounter++;
            }, interval);
            
            updateTrafficStatus(type);
        }

        function createPacket(type) {
            const packetStream = document.getElementById('packetStream');
            const packet = document.createElement('div');
            const typeConfig = trafficTypes[type];
            
            packet.className = `packet ${type.replace(/[^a-z]/gi, '-')}`;
            packet.textContent = typeConfig.emoji;
            
            // Random vertical position
            const randomTop = Math.random() * (packetStream.offsetHeight - 30);
            packet.style.top = randomTop + 'px';
            
            // Add packet type label
            packet.title = typeConfig.name;
            
            packetStream.appendChild(packet);
            
            // Remove packet after animation completes
            setTimeout(() => {
                if (packet.parentNode) {
                    packet.parentNode.removeChild(packet);
                }
            }, typeConfig.interval * 4);
        }

        function updateMetrics(type) {
            const packetCountEl = document.getElementById('packetCount');
            const bandwidthEl = document.getElementById('bandwidth');
            const sourcesEl = document.getElementById('sources');
            const typeConfig = trafficTypes[type];
            
            // Generate realistic metrics based on traffic type
            let packetCount, bandwidth, sources;
            
            switch (typeConfig.threat) {
                case 'critical':
                case 'high':
                    packetCount = Math.floor(Math.random() * 3000) + 500;
                    bandwidth = (Math.random() * 80 + 20).toFixed(1);
                    sources = Math.floor(Math.random() * 800) + 50;
                    break;
                case 'medium':
                    packetCount = Math.floor(Math.random() * 800) + 100;
                    bandwidth = (Math.random() * 30 + 10).toFixed(1);
                    sources = Math.floor(Math.random() * 200) + 20;
                    break;
                default:
                    packetCount = Math.floor(Math.random() * 150) + 10;
                    bandwidth = (Math.random() * 10 + 1).toFixed(1);
                    sources = Math.floor(Math.random() * 10) + 1;
            }
            
            // Animate the updates
            updateMetricsWithAnimation('packetCount', packetCount);
            updateMetricsWithAnimation('bandwidth', bandwidth, ' MB/s');
            updateMetricsWithAnimation('sources', sources);
        }

        function updateDetection(type) {
            const detectionResult = document.getElementById('detectionResult');
            const confidenceEl = document.getElementById('confidence');
            const responseTimeEl = document.getElementById('responseTime');
            const threatLevelEl = document.getElementById('threatLevel');
            const attackInfo = document.getElementById('attackInfo');
            const typeConfig = trafficTypes[type];
            
            // Simulate AI processing time
            const responseTime = Math.floor(Math.random() * 50) + 10;
            responseTimeEl.textContent = responseTime + ' ms';
            
            // Generate confidence based on threat level
            let confidence, threatLevel, statusText, statusClass;
            
            switch (typeConfig.threat) {
                case 'critical':
                    confidence = (Math.random() * 10 + 90).toFixed(1);
                    threatLevel = 'CRITICAL';
                    statusText = `🔴 ${typeConfig.name.toUpperCase()} DETECTED`;
                    statusClass = 'threat';
                    break;
                case 'high':
                    confidence = (Math.random() * 15 + 85).toFixed(1);
                    threatLevel = 'HIGH';
                    statusText = `🟠 ${typeConfig.name.toUpperCase()} DETECTED`;
                    statusClass = 'threat';
                    break;
                case 'medium':
                    confidence = (Math.random() * 20 + 75).toFixed(1);
                    threatLevel = 'MEDIUM';
                    statusText = `🟡 ${typeConfig.name.toUpperCase()} DETECTED`;
                    statusClass = 'warning';
                    break;
                default:
                    confidence = (Math.random() * 25 + 70).toFixed(1);
                    threatLevel = 'LOW';
                    statusText = '🟢 TRAFFIC NORMAL';
                    statusClass = 'safe';
            }
            
            confidenceEl.textContent = confidence + '%';
            threatLevelEl.textContent = threatLevel;
            
            detectionResult.className = `detection-display ${statusClass}`;
            detectionResult.innerHTML = `
                <div class="status-text">${statusText}</div>
                <p>Classification: ${typeConfig.name} | Records in dataset: ${typeConfig.records.toLocaleString()}</p>
            `;

            // Show attack information for presentation
            attackInfo.style.display = 'block';
            attackInfo.innerHTML = `
                <strong>📊 Presentation Info:</strong><br>
                ${typeConfig.presentationInfo}
            `;
        }

        function updateTrafficStatus(type) {
            console.log(`Traffic simulation started: ${trafficTypes[type].name}`);
            showNotification(`Simulating ${trafficTypes[type].name} traffic`, 'info');
        }

        function stopTraffic() {
            if (trafficInterval) {
                clearInterval(trafficInterval);
                trafficInterval = null;
                isTrafficActive = false;
                
                // Reset detection display
                const detectionResult = document.getElementById('detectionResult');
                detectionResult.className = 'detection-display';
                detectionResult.innerHTML = `
                    <div class="status-text">🟢 System Ready</div>
                    <p>Neural network initialized and monitoring traffic...</p>
                `;
                
                // Hide attack info
                document.getElementById('attackInfo').style.display = 'none';
                
                // Reset metrics
                document.getElementById('confidence').textContent = '--';
                document.getElementById('responseTime').textContent = '--';
                document.getElementById('threatLevel').textContent = 'LOW';
                document.getElementById('packetCount').textContent = '0';
                document.getElementById('bandwidth').textContent = '0';
                document.getElementById('sources').textContent = '1';
                
                showNotification('Traffic simulation stopped', 'success');
            }
        }

        // Enhanced utility functions
        function updateMetricsWithAnimation(elementId, newValue, suffix = '') {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const currentValue = parseFloat(element.textContent) || 0;
            const targetValue = parseFloat(newValue);
            const duration = 800;
            const steps = 20;
            const increment = (targetValue - currentValue) / steps;
            
            let currentStep = 0;
            const timer = setInterval(() => {
                currentStep++;
                const value = currentValue + (increment * currentStep);
                element.textContent = Math.round(value) + suffix;
                
                if (currentStep >= steps) {
                    clearInterval(timer);
                    element.textContent = Math.round(targetValue) + suffix;
                }
            }, duration / steps);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#ff4757' : type === 'success' ? '#00ff88' : '#00f5ff'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                font-weight: 600;
                z-index: 1001;
                opacity: 0;
                transform: translateX(100%);
                transition: all 0.3s ease;
                max-width: 300px;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Scroll-based section visibility
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            const navDots = document.querySelectorAll('.nav-dot');
            const scrollY = window.scrollY;
            const windowHeight = window.innerHeight;

            sections.forEach((section, index) => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                if (scrollY >= sectionTop - windowHeight / 2 && 
                    scrollY < sectionTop + sectionHeight - windowHeight / 2) {
                    section.classList.add('visible');
                    navDots[index].classList.add('active');
                } else {
                    section.classList.remove('visible');
                    navDots[index].classList.remove('active');
                }
            });
        });

        // Enhanced keyboard navigation
        document.addEventListener('keydown', function(e) {
            const sections = document.querySelectorAll('.section');
            const currentSection = Array.from(sections).findIndex(section => 
                section.classList.contains('visible')
            );
            
            switch(e.key) {
                case 'ArrowDown':
                    if (currentSection < sections.length - 1) {
                        e.preventDefault();
                        scrollToSection(currentSection + 1);
                    }
                    break;
                case 'ArrowUp':
                    if (currentSection > 0) {
                        e.preventDefault();
                        scrollToSection(currentSection - 1);
                    }
                    break;
                case 'Escape':
                    hideLayerDetails();
                    break;
                case 'r':
                case 'R':
                    if (isTrafficActive) {
                        stopTraffic();
                    }
                    if (!networkAnimationActive) {
                        resetNetwork();
                    }
                    break;
                case 'a':
                case 'A':
                    if (!networkAnimationActive) {
                        activateNetwork();
                    }
                    break;
                case 's':
                case 'S':
                    if (isTrafficActive) {
                        stopTraffic();
                    }
                    break;
            }
        });

        // Touch/swipe support for mobile
        let startY = 0;
        let endY = 0;

        document.addEventListener('touchstart', function(e) {
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', function(e) {
            endY = e.changedTouches[0].clientY;
            handleSwipe();
        });

        function handleSwipe() {
            const threshold = 50;
            const sections = document.querySelectorAll('.section');
            const currentSection = Array.from(sections).findIndex(section => 
                section.classList.contains('visible')
            );
            
            if (startY - endY > threshold && currentSection < sections.length - 1) {
                scrollToSection(currentSection + 1);
            } else if (endY - startY > threshold && currentSection > 0) {
                scrollToSection(currentSection - 1);
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            generateWeightMatrix('weightMatrix1', 5, 8);
            generateWeightMatrix('weightMatrix2', 4, 8);
            
            // Add tooltips to input neurons
            const inputNeurons = document.querySelectorAll('.input-layer .neuron');
            const tooltips = [
                'Flow Duration: Connection timing signatures',
                'Flow Bytes/s: Bandwidth anomaly detection',
                'Flow Packets/s: Packet rate flood detection', 
                'Total Fwd Packets: Volume-based attack patterns',
                '78 Features Total: Complete network analysis'
            ];
            
            inputNeurons.forEach((neuron, index) => {
                if (tooltips[index]) {
                    neuron.setAttribute('data-tooltip', tooltips[index]);
                }
            });
            
            // Initialize section observer
            const sections = document.querySelectorAll('.section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            });
            
            sections.forEach(section => {
                observer.observe(section);
            });
            
            console.log('🧠 Neural Network Intrusion Detection System Loaded!');
            console.log('📊 Dataset: 2.5M+ records, 15 traffic types, 78 features');
            console.log('🎯 Ready for interactive exploration!');
            console.log('⌨️ Keyboard shortcuts: A=Activate, R=Reset, S=Stop, Arrows=Navigate');
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', function() {
            if (trafficInterval) {
                clearInterval(trafficInterval);
            }
            
            document.querySelectorAll('.connection-line, .notification').forEach(el => {
                if (el.parentNode) {
                    el.parentNode.removeChild(el);
                }
            });
        });

        // Performance monitoring for demo purposes
        function getSystemPerformance() {
            return {
                accuracy: (95 + Math.random() * 4).toFixed(2) + '%',
                precision: (96 + Math.random() * 3).toFixed(2) + '%',
                recall: (94 + Math.random() * 4).toFixed(2) + '%',
                f1Score: (95 + Math.random() * 3).toFixed(2) + '%',
                avgResponseTime: (8 + Math.random() * 12).toFixed(0) + 'ms',
                datasetSize: '2,576,771 records',
                features: '78 network characteristics',
                classes: '15 traffic types'
            };
        }

        console.log('🚀 All systems operational!');
        console.log('📈 Performance metrics:', getSystemPerformance());
        console.log('👨‍💻 Made with 💙 by Haider');
    </script>
</body>
</html>